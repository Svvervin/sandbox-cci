version: 2.1
orbs:
  node: circleci/node@5.1.0
jobs:
  tests:
    circleci_ip_ranges: true
    executor:
      name: node/default
    steps:
      - checkout
      - run: sudo npm install -g npm@latest
      # - node/install-packages:
      #     override-ci-command: npm install
      - run: 
          name: Run Tests
          command: | 
            # npm set //registry.npmjs.org/:_authToken=$NPM_TOKEN
            # npm set registry https://stitchfix01.jfrog.io/artifactory/api/npm/algo-npm/
            npm install
            npm run test
workflows:
  Jest Test Runner:
    jobs:
      - tests
