version: 2.1

jobs:
  build:
    machine:
      image: 'windows-server-2022-gui:2023.09.1'
      resource_class: 'windows.medium'
      shell: powershell.exe -ExecutionPolicy Bypass
      
    steps:
      - checkout
      - run: systeminfo
      - run:
          name: "Check docker"
          shell: powershell.exe
          command: |
            docker info
            docker pull mcr.microsoft.com/windows/servercore:ltsc2019
            docker run mcr.microsoft.com/windows/servercore:ltsc2019 cmd /c ping www.microsoft.com

