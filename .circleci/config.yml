version: 2.1

executors:
  macos-m1-15_1:
    macos:
      xcode: 15.1.0
    resource_class: macos.m1.medium.gen1
  macos-m1-15_2:
    macos:
      xcode: 15.1.0
    resource_class: macos.m1.large.gen1  
  macos-intel-15_1:
    macos:
      xcode: 15.1.0
    resource_class: macos.x86.medium.gen2
 
orbs:
  jq: circleci/jq@3.0.0
  

jobs:
  my_intel_job:
    executor: macos-intel-15_1
    steps:
      #- jq/install
      - run: 
          name: "Basic command"
          command: |
              echo "Hello, World"
    
  my_m1_job:
    executor: macos-m1-15_1
    steps:
      #- jq/install
      - run: 
          name: "Basic command"
          command: |
              echo "Hello, World"

my_m1_joblarge:
    executor: macos-m1-15_2
    steps:
      #- jq/install
      - run: 
          name: "Basic command"
          command: |
              echo "Hello, World"
    

workflows:
  the_best_workflow:
    jobs:
      - my_intel_job
      - my_m1_job
      - my_m1_joblarge
